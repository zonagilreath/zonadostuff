@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
  }

  body {
    margin: 0;
    background: theme(colors.bg);
    color: theme(colors.text);
    font-family: theme(fontFamily.body);
    text-rendering: geometricPrecision;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  :focus-visible {
    outline: 2px solid theme(colors.ring);
    outline-offset: 3px;
  }

  ::selection {
    background: theme(colors.accent-dim);
  }

  /* Hide number input spinners */
  input[type='number']::-webkit-inner-spin-button,
  input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }
}

@layer components {
  .app-shell {
    @apply relative min-h-dvh bg-bg text-text;
  }

  /* Editorial background: subtle vignette + grain overlay (no canvas). */
  .app-shell::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    background:
      radial-gradient(1200px 700px at 12% 8%, rgba(255, 55, 95, 0.10), transparent 55%),
      radial-gradient(1000px 700px at 88% 18%, rgba(125, 211, 252, 0.07), transparent 58%),
      radial-gradient(900px 900px at 50% 115%, rgba(255, 255, 255, 0.03), transparent 55%);
  }

  .app-shell::after {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0.07;
    mix-blend-mode: overlay;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
    background-size: 260px 260px;
  }

  .app-shell > * {
    position: relative;
    z-index: 2;
  }
}
